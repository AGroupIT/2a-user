# Changelog v1.0.0+4

## –î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞: 2026-01-23

### üêõ –ö—Ä–∏—Ç–∏—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –ø–∞—Ä–æ–ª–µ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–ª–æ logout, —Ö–æ—Ç—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—â—ë –Ω–µ –±—ã–ª –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
- **–ü—Ä–∏—á–∏–Ω–∞**: API interceptor –≤—ã–∑—ã–≤–∞–ª `clearToken()` –∏ `logout()` –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ 401, –≤–∫–ª—é—á–∞—è –Ω–µ—É–¥–∞—á–Ω—É—é –ø–æ–ø—ã—Ç–∫—É –ª–æ–≥–∏–Ω–∞
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `isLoginRequest` –≤ auth interceptor
  - –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—à–∏–±–∫–µ 401 –Ω–∞ `/login` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è logout
  - –û—à–∏–±–∫–∞ –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –¥–∞–ª—å—à–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è SnackBar
- **–§–∞–π–ª**: `api_client.dart:75-88`

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```dart
if (error.response?.statusCode == 401) {
  await clearToken();
  _onUnauthorized?.call(); // –í—ã–∑—ã–≤–∞–ª—Å—è –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –¥–ª—è /login
}
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```dart
if (error.response?.statusCode == 401) {
  final isLoginRequest = error.requestOptions.path.contains('/login');

  if (!isLoginRequest) {
    // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ù–ï login - –¥–µ–ª–∞–µ–º logout
    await clearToken();
    _onUnauthorized?.call();
  }
  // –î–ª—è /login –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
}
```

### ‚úÖ –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –ø–∞—Ä–æ–ª–µ:
1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–π SnackBar: "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å"
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. –ú–æ–∂–µ—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å —Å–Ω–æ–≤–∞
4. –ù–ï –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout

### üì¶ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑ v1.0.0+3:
1. ‚úÖ FAB –∫–Ω–æ–ø–∫–∞ –Ω–∞ Samsung A15
2. ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
3. ‚úÖ –§–æ–∫—É—Å –≤ –ø–æ–ª–µ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏
4. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
5. ‚úÖ –ß—ë—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–æ–≤
6. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –ø–∞—Ä–æ–ª–µ** (–ù–û–í–û–ï)

---

## –í–µ—Ä—Å–∏—è

- **Version**: 1.0.0+4
- **Build number**: 4 (–±—ã–ª–∞ +3)
- **–§–æ—Ä–º–∞—Ç—ã**: APK, AAB

---

## –î–ª—è QA —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
1. –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. –í–≤–µ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email
3. –í–≤–µ—Å—Ç–∏ –ù–ï–í–ï–†–ù–´–ô –ø–∞—Ä–æ–ª—å
4. –ù–∞–∂–∞—Ç—å "–í–æ–π—Ç–∏"

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–π SnackBar —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å"
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ù–ï –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç logout
- ‚úÖ –ù–ï –æ—á–∏—â–∞–µ—Ç—Å—è SecureStorage
- ‚úÖ –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å —Å–Ω–æ–≤–∞

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–±—ã–ª–æ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**
- ‚ùå –ü–æ–∫–∞–∑—ã–≤–∞–ª—Å—è SnackBar, –ù–û
- ‚ùå –ü—Ä–æ–∏—Å—Ö–æ–¥–∏–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π logout
- ‚ùå –û—á–∏—â–∞–ª—Å—è —Ç–æ–∫–µ–Ω –∏–∑ SecureStorage
- ‚ùå –í –ª–æ–≥–∞—Ö: "Token cleared from SecureStorage", "Logout completed successfully"

---

## –õ–æ–≥–∏

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–æ—à–∏–±–∫–∞):**
```
Login error: DioException [bad response]: 401
Error message shown to user: –ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å
Token cleared from SecureStorage  ‚Üê –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
‚úÖ Logout completed successfully  ‚Üê –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```
Login error: DioException [bad response]: 401
Error message shown to user: –ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å
‚ùå Login failed: –ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å
(–ù–ï–¢ logout, –ù–ï–¢ clearToken)
```
